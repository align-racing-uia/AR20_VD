/* Simscape target specific file.
 * This file is generated for the Simscape network associated with the solver block 'dempsystest_bjorn/Solver Configuration'.
 */

#include <math.h>
#include <string.h>
#include "pm_std.h"
#include "sm_std.h"
#include "ne_std.h"
#include "ne_dae.h"
#include "sm_ssci_run_time_errors.h"
#include "sm_RuntimeDerivedValuesBundle.h"
#include "dempsystest_bjorn_59d2bdba_5_geometries.h"

PmfMessageId dempsystest_bjorn_59d2bdba_5_compOutputs(const
  RuntimeDerivedValuesBundle *rtdv, const double *state, const int *modeVector,
  const double *input, const double *inputDot, const double *inputDdot, const
  double *discreteState, double *output, NeuDiagnosticManager *neDiagMgr)
{
  const double *rtdvd = rtdv->mDoubles.mValues;
  const int *rtdvi = rtdv->mInts.mValues;
  double xx[76];
  (void) rtdvd;
  (void) rtdvi;
  (void) modeVector;
  (void) input;
  (void) inputDot;
  (void) inputDdot;
  (void) discreteState;
  (void) neDiagMgr;
  xx[0] = state[3];
  xx[1] = state[4];
  xx[2] = state[5];
  xx[3] = state[6];
  xx[4] = 0.9999188709407687;
  xx[5] = 0.01273662563857442;
  xx[6] = xx[4];
  xx[7] = 1.729133611399561e-4;
  xx[8] = xx[5];
  xx[9] = 2.202511436425175e-6;
  pm_math_Quaternion_composeInverse_ra(xx + 0, xx + 6, xx + 10);
  xx[0] = state[20];
  xx[1] = - state[21];
  xx[2] = - state[22];
  xx[3] = - state[23];
  pm_math_Quaternion_compose_ra(xx + 6, xx + 0, xx + 14);
  pm_math_Quaternion_compose_ra(xx + 10, xx + 14, xx + 0);
  xx[18] = 0.9998343934839863;
  xx[19] = 0.0181985056119827;
  xx[20] = - (xx[18] * state[27] + xx[19] * state[29]);
  xx[21] = xx[18] * state[28] - xx[19] * state[30];
  xx[22] = xx[18] * state[29] - xx[19] * state[27];
  xx[23] = xx[19] * state[28] + xx[18] * state[30];
  pm_math_Quaternion_compose_ra(xx + 0, xx + 20, xx + 24);
  xx[0] = xx[18] * state[98] + xx[19] * state[100];
  xx[1] = xx[18] * state[99] - xx[19] * state[101];
  xx[2] = xx[18] * state[100] - xx[19] * state[98];
  xx[3] = xx[18] * state[101] + xx[19] * state[99];
  pm_math_Quaternion_compose_ra(xx + 24, xx + 0, xx + 28);
  xx[32] = state[112];
  xx[33] = state[113];
  xx[34] = state[114];
  xx[35] = state[115];
  xx[36] = xx[4];
  xx[37] = - 1.729133611397341e-4;
  xx[38] = xx[5];
  xx[39] = - 2.20251143642801e-6;
  pm_math_Quaternion_composeInverse_ra(xx + 32, xx + 36, xx + 40);
  pm_math_Quaternion_compose_ra(xx + 28, xx + 40, xx + 32);
  xx[28] = - xx[32];
  xx[29] = - xx[33];
  xx[30] = - xx[34];
  xx[31] = - xx[35];
  xx[32] = state[10];
  xx[33] = state[11];
  xx[34] = state[12];
  pm_math_Quaternion_xform_ra(xx + 6, xx + 32, xx + 44);
  pm_math_Quaternion_inverseXform_ra(xx + 14, xx + 44, xx + 32);
  xx[47] = - state[24];
  xx[48] = - state[25];
  xx[49] = - state[26];
  pm_math_Quaternion_xform_ra(xx + 6, xx + 47, xx + 50);
  pm_math_Quaternion_inverseXform_ra(xx + 14, xx + 50, xx + 4);
  xx[7] = xx[32] + xx[4];
  xx[8] = xx[33] + xx[5];
  xx[9] = xx[34] + xx[6];
  pm_math_Quaternion_inverseXform_ra(xx + 20, xx + 7, xx + 4);
  xx[32] = - state[31];
  xx[33] = - state[32];
  xx[34] = - state[33];
  pm_math_Quaternion_inverseXform_ra(xx + 20, xx + 32, xx + 47);
  xx[32] = xx[4] + xx[47];
  xx[33] = xx[5] + xx[48];
  xx[34] = xx[6] + xx[49];
  pm_math_Quaternion_inverseXform_ra(xx + 0, xx + 32, xx + 4);
  xx[50] = xx[4] + state[102];
  xx[51] = xx[5] + state[103];
  xx[52] = xx[6] + state[104];
  xx[4] = 7.343000401344803e-3;
  xx[5] = - 0.06145219684944687;
  xx[6] = - 0.01771595381192262;
  pm_math_Quaternion_xform_ra(xx + 40, xx + 4, xx + 53);
  pm_math_Vector3_cross_ra(xx + 50, xx + 53, xx + 56);
  xx[35] = 0.8116895113357588;
  xx[53] = 0.14279;
  xx[54] = 0.26683;
  xx[55] = 0.05344999999999999;
  xx[59] = - xx[53];
  xx[60] = - xx[54];
  xx[61] = xx[55];
  pm_math_Quaternion_xform_ra(xx + 0, xx + 59, xx + 62);
  xx[65] = 0.2717;
  xx[66] = 0.03913410103116464;
  xx[67] = xx[35] + xx[62];
  xx[68] = xx[63] - xx[65];
  xx[69] = xx[66] + xx[64];
  pm_math_Vector3_cross_ra(xx + 32, xx + 67, xx + 62);
  xx[67] = - xx[35];
  xx[68] = - xx[65];
  xx[69] = - xx[66];
  pm_math_Quaternion_xform_ra(xx + 20, xx + 67, xx + 70);
  xx[73] = xx[53] + xx[70];
  xx[74] = xx[71] - xx[54];
  xx[75] = xx[72] - xx[55];
  pm_math_Vector3_cross_ra(xx + 7, xx + 73, xx + 53);
  xx[7] = - 7.343000401344803e-3;
  xx[8] = - 0.06145219684944689;
  xx[9] = 0.01771595381192259;
  pm_math_Vector3_cross_ra(xx + 44, xx + 7, xx + 70);
  xx[7] = state[7];
  xx[8] = state[8];
  xx[9] = state[9];
  pm_math_Quaternion_inverseXform_ra(xx + 10, xx + 7, xx + 73);
  xx[7] = 2.390130654010668e-5;
  xx[8] = 9.445556060168147e-5;
  xx[9] = xx[70] + xx[73] + xx[7] * xx[46] - xx[8] * xx[45];
  xx[10] = xx[71] + xx[74] + xx[8] * xx[44];
  xx[11] = xx[72] + xx[75] - xx[7] * xx[44];
  pm_math_Quaternion_inverseXform_ra(xx + 14, xx + 9, xx + 44);
  xx[9] = xx[53] + xx[44];
  xx[10] = xx[54] + xx[45];
  xx[11] = xx[55] + xx[46];
  pm_math_Quaternion_inverseXform_ra(xx + 20, xx + 9, xx + 12);
  pm_math_Vector3_cross_ra(xx + 47, xx + 67, xx + 9);
  xx[7] = xx[12] + xx[9];
  xx[15] = xx[13] + xx[10];
  xx[9] = xx[14] + xx[11];
  xx[10] = xx[62] + xx[7];
  xx[11] = xx[63] + xx[15];
  xx[12] = xx[64] + xx[9];
  pm_math_Quaternion_inverseXform_ra(xx + 0, xx + 10, xx + 20);
  xx[0] = state[102];
  xx[1] = state[103];
  xx[2] = state[104];
  pm_math_Vector3_cross_ra(xx + 0, xx + 59, xx + 10);
  xx[0] = xx[56] + xx[20] + xx[10];
  xx[1] = xx[57] + xx[21] + xx[11];
  xx[2] = xx[58] + xx[22] + xx[12];
  pm_math_Quaternion_inverseXform_ra(xx + 40, xx + 0, xx + 10);
  xx[0] = state[116];
  xx[1] = state[117];
  xx[2] = state[118];
  pm_math_Quaternion_xform_ra(xx + 36, xx + 0, xx + 20);
  pm_math_Vector3_cross_ra(xx + 20, xx + 4, xx + 0);
  pm_math_Quaternion_inverseXform_ra(xx + 40, xx + 50, xx + 3);
  xx[6] = 2.390130654010672e-5;
  xx[13] = xx[3] + xx[20];
  xx[35] = xx[10] + xx[0] + (xx[4] + xx[21]) * xx[8] + (xx[5] + xx[22]) * xx[6];
  xx[36] = xx[11] + xx[1] - xx[13] * xx[8];
  xx[37] = xx[12] + xx[2] - xx[13] * xx[6];
  pm_math_Quaternion_xform_ra(xx + 28, xx + 35, xx + 0);
  xx[3] = xx[18] * state[38] + xx[19] * state[40];
  xx[4] = xx[18] * state[39] - xx[19] * state[41];
  xx[5] = xx[18] * state[40] - xx[19] * state[38];
  xx[6] = xx[18] * state[41] + xx[19] * state[39];
  pm_math_Quaternion_compose_ra(xx + 24, xx + 3, xx + 10);
  xx[0] = 0.9999999561635808;
  xx[1] = 2.960959925766019e-4;
  xx[8] = xx[0] * state[45] - xx[1] * state[46];
  xx[14] = xx[1] * state[45] + xx[0] * state[46];
  xx[16] = xx[0] * state[47] - xx[1] * state[48];
  xx[17] = xx[0] * state[48] + xx[1] * state[47];
  xx[20] = - xx[8];
  xx[21] = xx[14];
  xx[22] = xx[16];
  xx[23] = xx[17];
  pm_math_Quaternion_compose_ra(xx + 10, xx + 20, xx + 28);
  xx[10] = - xx[28];
  xx[11] = - xx[29];
  xx[12] = - xx[30];
  xx[13] = - xx[31];
  pm_math_Quaternion_inverseXform_ra(xx + 3, xx + 32, xx + 28);
  xx[35] = xx[28] + state[42];
  xx[36] = xx[29] + state[43];
  xx[37] = xx[30] + state[44];
  xx[1] = 2.0;
  xx[28] = xx[14];
  xx[29] = xx[16];
  xx[30] = xx[17];
  xx[31] = 0.1419467075027625;
  xx[38] = 0.06503381342622938;
  xx[39] = xx[31] * xx[16] - xx[17] * xx[38];
  xx[16] = xx[14] * xx[31];
  xx[17] = xx[14] * xx[38];
  xx[40] = xx[39];
  xx[41] = - xx[16];
  xx[42] = xx[17];
  pm_math_Vector3_cross_ra(xx + 28, xx + 40, xx + 43);
  xx[28] = xx[1] * (xx[43] - xx[39] * xx[8]);
  xx[29] = xx[38] + xx[1] * (xx[44] + xx[8] * xx[16]);
  xx[30] = xx[31] + (xx[45] - xx[8] * xx[17]) * xx[1];
  pm_math_Vector3_cross_ra(xx + 35, xx + 28, xx + 39);
  xx[28] = - 0.513;
  xx[29] = 0.27424;
  xx[30] = - 8.0e-3;
  pm_math_Quaternion_xform_ra(xx + 3, xx + 28, xx + 42);
  xx[45] = xx[42] - 0.3579665484632664;
  xx[46] = 0.2646 + xx[43];
  xx[47] = xx[44] - 0.1015240013853662;
  pm_math_Vector3_cross_ra(xx + 32, xx + 45, xx + 42);
  xx[45] = xx[42] + xx[7];
  xx[46] = xx[43] + xx[15];
  xx[47] = xx[44] + xx[9];
  pm_math_Quaternion_inverseXform_ra(xx + 3, xx + 45, xx + 42);
  xx[3] = state[42];
  xx[4] = state[43];
  xx[5] = state[44];
  pm_math_Vector3_cross_ra(xx + 3, xx + 28, xx + 45);
  xx[3] = xx[39] + xx[42] + xx[45];
  xx[4] = xx[40] + xx[43] + xx[46];
  xx[5] = xx[41] + xx[44] + xx[47];
  pm_math_Quaternion_inverseXform_ra(xx + 20, xx + 3, xx + 28);
  xx[3] = - state[49];
  xx[4] = - state[50];
  xx[5] = - state[51];
  pm_math_Quaternion_inverseXform_ra(xx + 20, xx + 3, xx + 39);
  pm_math_Quaternion_inverseXform_ra(xx + 20, xx + 35, xx + 3);
  xx[6] = 4.208389004099712e-5;
  xx[8] = 9.18548262128904e-5;
  xx[14] = xx[3] + xx[39];
  xx[20] = xx[28] + xx[31] * xx[40] - xx[38] * xx[41] - ((xx[5] + xx[41]) * xx[6]
    - (xx[4] + xx[40]) * xx[8]);
  xx[21] = xx[29] - xx[31] * xx[39] - xx[14] * xx[8];
  xx[22] = xx[30] + xx[38] * xx[39] + xx[14] * xx[6];
  pm_math_Quaternion_xform_ra(xx + 10, xx + 20, xx + 3);
  xx[10] = xx[18] * state[66] + xx[19] * state[68];
  xx[11] = xx[18] * state[67] - xx[19] * state[69];
  xx[12] = xx[18] * state[68] - xx[19] * state[66];
  xx[13] = xx[18] * state[69] + xx[19] * state[67];
  pm_math_Quaternion_compose_ra(xx + 24, xx + 10, xx + 16);
  xx[3] = 2.960959925763799e-4;
  xx[4] = xx[3] * state[81] - xx[0] * state[80];
  xx[6] = xx[3] * state[80] + xx[0] * state[81];
  xx[8] = - xx[6];
  xx[14] = xx[3] * state[83] + xx[0] * state[82];
  xx[20] = - xx[14];
  xx[21] = xx[0] * state[83] - xx[3] * state[82];
  xx[22] = - xx[21];
  xx[23] = xx[4];
  xx[24] = xx[8];
  xx[25] = xx[20];
  xx[26] = xx[22];
  pm_math_Quaternion_compose_ra(xx + 16, xx + 23, xx + 27);
  xx[16] = - xx[27];
  xx[17] = - xx[28];
  xx[18] = - xx[29];
  xx[19] = - xx[30];
  pm_math_Quaternion_inverseXform_ra(xx + 10, xx + 32, xx + 27);
  xx[35] = xx[27] + state[70];
  xx[36] = xx[28] + state[71];
  xx[37] = xx[29] + state[72];
  xx[27] = 0.0213683169329786;
  xx[28] = 0.09037053171319967;
  xx[29] = xx[27] * xx[14] - xx[21] * xx[28];
  xx[38] = xx[8];
  xx[39] = xx[20];
  xx[40] = xx[22];
  xx[8] = xx[27] * xx[6];
  xx[14] = xx[28] * xx[6];
  xx[20] = xx[29];
  xx[21] = - xx[8];
  xx[22] = xx[14];
  pm_math_Vector3_cross_ra(xx + 38, xx + 20, xx + 41);
  xx[20] = (xx[29] * xx[4] + xx[41]) * xx[1];
  xx[21] = xx[1] * (xx[42] - xx[8] * xx[4]) - xx[28];
  xx[22] = (xx[14] * xx[4] + xx[43]) * xx[1] - xx[27];
  pm_math_Vector3_cross_ra(xx + 35, xx + 20, xx + 29);
  xx[20] = - 0.5109;
  xx[21] = - 0.284;
  xx[22] = 0.01433000000000001;
  pm_math_Quaternion_xform_ra(xx + 10, xx + 20, xx + 38);
  xx[41] = xx[38] - 0.3651962861772049;
  xx[42] = xx[39] - 0.2296;
  xx[43] = 0.03930618320795053 + xx[40];
  pm_math_Vector3_cross_ra(xx + 32, xx + 41, xx + 38);
  xx[32] = xx[38] + xx[7];
  xx[33] = xx[39] + xx[15];
  xx[34] = xx[40] + xx[9];
  pm_math_Quaternion_inverseXform_ra(xx + 10, xx + 32, xx + 6);
  xx[9] = state[70];
  xx[10] = state[71];
  xx[11] = state[72];
  pm_math_Vector3_cross_ra(xx + 9, xx + 20, xx + 12);
  xx[9] = xx[29] + xx[6] + xx[12];
  xx[10] = xx[30] + xx[7] + xx[13];
  xx[11] = xx[31] + xx[8] + xx[14];
  pm_math_Quaternion_inverseXform_ra(xx + 23, xx + 9, xx + 6);
  xx[4] = xx[3] * state[85];
  xx[9] = xx[3] * state[86];
  xx[10] = state[86] - xx[1] * (xx[0] * xx[4] + xx[3] * xx[9]);
  xx[11] = state[85] - (xx[3] * xx[4] - xx[0] * xx[9]) * xx[1];
  pm_math_Quaternion_inverseXform_ra(xx + 23, xx + 35, xx + 12);
  xx[0] = 9.185482621289039e-5;
  xx[1] = 4.208389004099716e-5;
  xx[3] = xx[12] + state[84];
  xx[20] = xx[6] + xx[10] * xx[28] - xx[27] * xx[11] + (xx[13] + xx[11]) * xx[0]
    + (xx[14] + xx[10]) * xx[1];
  xx[21] = xx[7] + xx[27] * state[84] - xx[3] * xx[0];
  xx[22] = xx[8] - xx[28] * state[84] - xx[3] * xx[1];
  pm_math_Quaternion_xform_ra(xx + 16, xx + 20, xx + 6);
  output[0] = state[9];
  output[1] = xx[2];
  output[2] = xx[5];
  output[3] = xx[8];
  return NULL;
}
